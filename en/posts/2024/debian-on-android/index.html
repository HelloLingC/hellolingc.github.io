<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Install Debian on Android devices to become a BT download server | MoonLab</title>
<meta name=keywords content="Linux"><meta name=description content="The author discusses their experience with VNC and setting up a Debian environment on an Android device using Termux. After their Android device became unusable due to battery issues, they installed Debian with a simple script. They advise against using Ubuntu in Termux due to limitations with systemd and snap. The post also covers the Phantom Process Killer in Android 12, providing ADB commands to disable it. For VNC access, the author installs the XFCE desktop environment and configures the VNC server to allow connections beyond localhost. They also mention potential future installations like Gogs for a local Git server."><meta name=author content="LingC"><link rel=canonical href=https://moonlab.top/en/posts/2024/debian-on-android/><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["\\[","\\]"],["$$","$$"]],inlineMath:[["\\(","\\)"],["$","$"]]},loader:{load:["ui/safe"]}}</script><link crossorigin=anonymous href=/assets/css/stylesheet.1ff5a7b3bb4a96bf1747dfa25e8031167d4537d7ae4b78fac2b752886047a06e.css rel="preload stylesheet" as=style><link rel=icon href=/moon.svg type=image/svg+xml><link rel=icon type=image/png sizes=16x16 href=https://moonlab.top/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://moonlab.top/favicon-32x32.png><link rel=apple-touch-icon href=https://moonlab.top/apple-touch-icon.png><link rel=mask-icon href=https://moonlab.top/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=cn href=https://moonlab.top/posts/2024/debian-on-android/><link rel=alternate hreflang=en href=https://moonlab.top/en/posts/2024/debian-on-android/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Install Debian on Android devices to become a BT download server"><meta property="og:description" content="The author discusses their experience with VNC and setting up a Debian environment on an Android device using Termux. After their Android device became unusable due to battery issues, they installed Debian with a simple script. They advise against using Ubuntu in Termux due to limitations with systemd and snap. The post also covers the Phantom Process Killer in Android 12, providing ADB commands to disable it. For VNC access, the author installs the XFCE desktop environment and configures the VNC server to allow connections beyond localhost. They also mention potential future installations like Gogs for a local Git server."><meta property="og:type" content="article"><meta property="og:url" content="https://moonlab.top/en/posts/2024/debian-on-android/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-08-07T08:24:02+08:00"><meta property="article:modified_time" content="2024-08-07T08:24:02+08:00"><meta property="og:site_name" content="MoonLab"><meta name=twitter:card content="summary"><meta name=twitter:title content="Install Debian on Android devices to become a BT download server"><meta name=twitter:description content="The author discusses their experience with VNC and setting up a Debian environment on an Android device using Termux. After their Android device became unusable due to battery issues, they installed Debian with a simple script. They advise against using Ubuntu in Termux due to limitations with systemd and snap. The post also covers the Phantom Process Killer in Android 12, providing ADB commands to disable it. For VNC access, the author installs the XFCE desktop environment and configures the VNC server to allow connections beyond localhost. They also mention potential future installations like Gogs for a local Git server."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://moonlab.top/en/posts/"},{"@type":"ListItem","position":2,"name":"Install Debian on Android devices to become a BT download server","item":"https://moonlab.top/en/posts/2024/debian-on-android/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Install Debian on Android devices to become a BT download server","name":"Install Debian on Android devices to become a BT download server","description":"The author discusses their experience with VNC and setting up a Debian environment on an Android device using Termux. After their Android device became unusable due to battery issues, they installed Debian with a simple script. They advise against using Ubuntu in Termux due to limitations with systemd and snap. The post also covers the Phantom Process Killer in Android 12, providing ADB commands to disable it. For VNC access, the author installs the XFCE desktop environment and configures the VNC server to allow connections beyond localhost. They also mention potential future installations like Gogs for a local Git server.","keywords":["Linux"],"articleBody":"To be honest, I have never really paid attention to VNC. I learned about VNC a few years ago, but I never had a use for it.\nRecently, my Android device has been discontinued due to battery life issues, so I plan to keep it in a permanently plugged-in state (referring to charging).\nFor convenience, I directly installed Debian in Termux using a simple script.\nOne-click install Debian script: https://github.com/wahasa/Debian\nOne-click install Ubuntu script: https://github.com/MFDGaming/ubuntu-in-termux\nHowever, I do not recommend using Ubuntu in Termux. Since Termux cannot use systemd, Ubuntu’s snapd cannot be used either. (But it seems there is a way if rooted.) Ubuntu is deeply tied to snap, and even if there is a way to remove snap, it can be quite troublesome. There is also very little optimization for arm64 processors in snap, so why not just use Debian directly?\nFor example, to install the Firefox browser through traditional deb in Ubuntu, you first need to use snap remove firefox to delete it, but… snap is completely unusable.\nPhantom Process Killer Starting from Android 12, there is a Phantom Process Killer mechanism that limits the number of background subprocesses for applications. Therefore, Termux can easily be killed, resulting in Process completed (signal 9). I used adb commands to disable this restriction.\nADB tool download link: https://developer.android.com/studio/releases/platform-tools\nadb devices adb shell \"/system/bin/device_config set_sync_disabled_for_tests persistent\" adb shell \"/system/bin/device_config put activity_manager max_phantom_processes 2147483647\" adb shell settings put global settings_enable_monitor_phantom_procs false Another method is to find Feature flag in the developer settings and disable settings_enable_monitor_phantom_procs there. However, I don’t know why there is nothing in the feature flag on my phone.\nDesktop Environment \u0026 VNC To allow the VNC client to connect to Debian on the phone, a desktop environment must be installed first.\nI used xfce, which can be installed directly using apt:\nsudo apt install xfce4 xfce4-goodies But you can also use @wahasa’s script, which also installs tigervnc and configures /.vnc/xstartup:\napt install wget -y ; wget https://raw.githubusercontent.com/wahasa/Debian/main/Desktop/de-xfce.sh ; chmod +x de-xfce.sh ; ./de-xfce.sh Here, I used vnc-start to start the VNC Server, which can only listen on the local port and cannot be found on the local area network.\nSo I added a no localhost flag:\n$ vncserver -localhost no TightVNC If you want to use TightVNC:\n$ apt install tightvncserver Delete Server: vncserver -kill :1\nChange VNC connection password: vncpasswd\nThen modify ~/.vnc/xstartup:\n#!/bin/bash xrdb $HOME/.Xresources startxfce4 \u0026 More You can also install gogs as a local Git server later.\nRefs\nhttps://docs.andronix.app/android-12/andronix-on-android-12-and-beyond\n","wordCount":"415","inLanguage":"en","datePublished":"2024-08-07T08:24:02+08:00","dateModified":"2024-08-07T08:24:02+08:00","author":{"@type":"Person","name":"LingC"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://moonlab.top/en/posts/2024/debian-on-android/"},"publisher":{"@type":"Organization","name":"MoonLab","logo":{"@type":"ImageObject","url":"https://moonlab.top/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://moonlab.top/en/ accesskey=h title="MoonLab (Alt + H)"><img src=/moon.svg alt aria-label=logo height=20>MoonLab</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://moonlab.top/ title=简体中文 aria-label=简体中文>Cn</a></li></ul></div></div><ul id=menu><li><a href=https://moonlab.top/en/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://moonlab.top/en/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://moonlab.top/en/about/ title=About><span>About</span></a></li><li><a href=https://www.travellings.cn/go.html target=_blank title=Travel><span>Travel</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><div class=body-layout><div class=leftbar></div><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Install Debian on Android devices to become a BT download server</h1><div class=post-meta><span title='2024-08-07 08:24:02 +0800 +0800'>August 7, 2024</span>&nbsp;·&nbsp;LingC&nbsp;|&nbsp;Read in other languages:<ul class=i18n_list><li><a href=https://moonlab.top/posts/2024/debian-on-android/>简体中文🇨🇳</a></li></ul></div></header><div class=post-summary><span class=bold-text>🖊️ AI Translation</span><br><span class=post-summary-main>This article was translated by AI.
&nbsp;<a class=primary-link href=https://moonlab.top/posts/2024/debian-on-android/>View original</a></span></div><div class=post-summary><span class=bold-text>📦 AI-generated Summary</span><br><span class=post-summary-main>The author discusses their experience with VNC and setting up a Debian environment on an Android device using Termux. After their Android device became unusable due to battery issues, they installed Debian with a simple script. They advise against using Ubuntu in Termux due to limitations with systemd and snap. The post also covers the Phantom Process Killer in Android 12, providing ADB commands to disable it. For VNC access, the author installs the XFCE desktop environment and configures the VNC server to allow connections beyond localhost. They also mention potential future installations like Gogs for a local Git server.</span></div><div class=post-content><p>To be honest, I have never really paid attention to VNC. I learned about VNC a few years ago, but I never had a use for it.</p><p>Recently, my Android device has been discontinued due to battery life issues, so I plan to keep it in a permanently plugged-in state (referring to charging).</p><p>For convenience, I directly installed Debian in Termux using a simple script.</p><p><strong>One-click install Debian script: <a href=https://github.com/wahasa/Debian>https://github.com/wahasa/Debian</a></strong></p><p><strong>One-click install Ubuntu script: <a href=https://github.com/MFDGaming/ubuntu-in-termux>https://github.com/MFDGaming/ubuntu-in-termux</a></strong></p><p>However, I do not recommend using Ubuntu in Termux. Since Termux cannot use systemd, Ubuntu&rsquo;s snapd cannot be used either. (But it seems there is a way if rooted.) Ubuntu is deeply tied to snap, and even if there is a way to remove snap, it can be quite troublesome. There is also very little optimization for arm64 processors in snap, so why not just use Debian directly?</p><p>For example, to install the Firefox browser through traditional deb in Ubuntu, you first need to use <code>snap remove firefox</code> to delete it, but&mldr; snap is completely unusable.</p><h1 id=phantom-process-killer>Phantom Process Killer<a hidden class=anchor aria-hidden=true href=#phantom-process-killer>#</a></h1><p>Starting from Android 12, there is a Phantom Process Killer mechanism that limits the number of background subprocesses for applications. Therefore, Termux can easily be killed, resulting in <code>Process completed (signal 9)</code>. I used adb commands to disable this restriction.</p><p>ADB tool download link: <a href=https://developer.android.com/studio/releases/platform-tools>https://developer.android.com/studio/releases/platform-tools</a></p><pre tabindex=0><code>adb devices

adb shell &#34;/system/bin/device_config set_sync_disabled_for_tests persistent&#34;
adb shell &#34;/system/bin/device_config put activity_manager max_phantom_processes 2147483647&#34;
adb shell settings put global settings_enable_monitor_phantom_procs false
</code></pre><p>Another method is to find <code>Feature flag</code> in the developer settings and disable <code>settings_enable_monitor_phantom_procs</code> there. However, I don&rsquo;t know why there is nothing in the feature flag on my phone.</p><h1 id=desktop-environment--vnc>Desktop Environment & VNC<a hidden class=anchor aria-hidden=true href=#desktop-environment--vnc>#</a></h1><p>To allow the VNC client to connect to Debian on the phone, a desktop environment must be installed first.</p><p>I used xfce, which can be installed directly using apt:</p><pre tabindex=0><code>sudo apt install xfce4 xfce4-goodies
</code></pre><p>But you can also use @wahasa&rsquo;s script, which also installs tigervnc and configures <code>/.vnc/xstartup</code>:</p><pre tabindex=0><code>apt install wget -y ; wget https://raw.githubusercontent.com/wahasa/Debian/main/Desktop/de-xfce.sh ; chmod +x de-xfce.sh ; ./de-xfce.sh
</code></pre><p>Here, I used <code>vnc-start</code> to start the VNC Server, which can only listen on the local port and cannot be found on the local area network.</p><p>So I added a no localhost flag:</p><pre tabindex=0><code>$ vncserver -localhost no
</code></pre><h2 id=tightvnc>TightVNC<a hidden class=anchor aria-hidden=true href=#tightvnc>#</a></h2><p>If you want to use <code>TightVNC</code>:</p><pre tabindex=0><code>$ apt install tightvncserver
</code></pre><p>Delete Server: <code>vncserver -kill :1</code></p><p>Change VNC connection password: <code>vncpasswd</code></p><p>Then modify <code>~/.vnc/xstartup</code>:</p><pre tabindex=0><code>#!/bin/bash
xrdb $HOME/.Xresources
startxfce4 &amp;
</code></pre><p><img loading=lazy src=screenshot.png alt=screenshot></p><h1 id=more>More<a hidden class=anchor aria-hidden=true href=#more>#</a></h1><p>You can also install gogs as a local Git server later.</p><hr><p>Refs</p><p><a href=https://docs.andronix.app/android-12/andronix-on-android-12-and-beyond>https://docs.andronix.app/android-12/andronix-on-android-12-and-beyond</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://moonlab.top/en/tags/linux/>Linux</a></li></ul></footer><script src=https://comment.moonlab.top/moontalk.js></script><div id=container></div><script>(new MoonTalk).init({page_key:window.location.href,server:"https:///comment.moonlab.top",element:"#container"})</script></article></main><aside class=rightbar><div class=rightbar-categories><h3>Categories</h3><ul class=rightbar-categories-first-list><li><a href=https://moonlab.top/en/categories/programming/>Programming</a> (4)<ul class=rightbar-categories-sec-list><li><a href=/tags/linux>Linux</a></li><li><a href=/tags/android>Android</a></li></ul></li><li><a href=https://moonlab.top/en/categories/%E5%85%B6%E4%BB%96/>其他</a> (1)<ul class=rightbar-categories-sec-list><li><a href=/tags/linux>Linux</a></li></ul></li></ul></div></aside></div><footer class=footer><img id=mooncounter-img style="margin:0 auto;margin-bottom:6px"></img>
<script src="//counter.moonlab.top/img?name=https://moonlab.top/"></script><span>&copy; 2025 <a href=https://moonlab.top/en/>MoonLab</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span><a href=https://www.travellings.cn/go.html rel=noopener target=_blank><img style=height:27px alt=travelling src=https://www.travellings.cn/assets/logo.svg></a></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>